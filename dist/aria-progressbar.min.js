!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery,window)}(function(e,t){"use strict";function a(t,a){var i=this;i.settings=e.extend({},e.fn[r].defaultSettings,a),i.element=e(t),i.template=s,i.value=null,i.valuePercent=null,i.valueText=null,i.init()}var r="ariaProgressbar",s='<div class="{c1}"><div class="{c2}" role="progressbar"></div></div>',i={aVNow:"aria-valuenow",aVTxt:"aria-valuetext",aVMin:"aria-valuemin",aVMax:"aria-valuemax",dPg:"data-progress",dPgTxt:"data-progresstext",t:"true",f:"false"},n=e(t);e.extend(a.prototype,{init:function(){var e=this,t=e.element,a=e.settings;e.template=e.template.replace("{c1}",a.progressClass),e.template=e.template.replace("{c2}",a.progressBarClass),t.append(e.template),e.progress=t.find("."+a.progressClass.split(" ")[0]),e.progressbar=t.find("."+a.progressBarClass),e.progressbar.attr(i.aVMin,a.minVal).attr(i.aVMax,a.maxVal),n.trigger(r+".initialised",[e])},destroy:function(){var e=this,t=e.settings;e.progress.fadeOut(t.destroyFadeOutSpeed,function(){e.progress.remove()}),n.trigger(r+".destroy",[e])},update:function(e){var t=this,a=t.settings;t.value=e,t.valueText=a.textLabel.replace("{X}",e),t.valuePercent=(a.maxVal-a.minVal)*e/100,t.progressbar.attr(i.aVNow,e).css("width",t.valuePercent+"%"),a.textLabel&&t.progressbar.attr(i.aVTxt,t.valueText),t.progress.attr(i.dPg,e).attr(i.dPgTxt,t.valueText),n.trigger(r+".updated",[t]),t.value>=a.maxVal&&setTimeout(function(){t.destroy()},a.destroyDelay)},methodCaller:function(e,t){var a=this;switch(e){case"update":a.update(t);break;case"destroy":a.destroy()}}}),e.fn[r]=function(t,s){return this.each(function(){var i=this;e.data(i,"plugin_"+r)||"object"!=typeof t&&void 0!==t?"string"==typeof t&&e.data(i,"plugin_"+r).methodCaller(t,s):e.data(i,"plugin_"+r,new a(i,t))})},e.fn[r].defaultSettings={progressClass:"progress",progressBarClass:"progress__bar",minVal:0,maxVal:100,textLabel:"{X} percent completed",destroyDelay:300,destroyFadeOutSpeed:300}});