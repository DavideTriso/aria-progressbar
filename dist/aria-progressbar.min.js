!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery,window)}(function(a,e){"use strict";var s="ariaProgressbar",i="aria-valuenow",l="aria-valuetext",n="aria-valuemin",o="aria-valuemax",p="data-progress",u="data-progresstext",d=a(e);function g(e,t){var r=this;r.settings=a.extend({},a.fn[s].defaultSettings,t),r.element=a(e),r.template='<div class="{c1}"><div class="{c2}" role="progressbar"></div></div>',r.value=null,r.valuePercent=null,r.valueText=null,r.init()}a.extend(g.prototype,{init:function(){var e=this,t=e.element,r=e.settings;e.template=e.template.replace("{c1}",r.progressClass),e.template=e.template.replace("{c2}",r.progressBarClass),t.append(e.template),e.progress=t.find("."+r.progressClass.split(" ")[0]),e.progressbar=t.find("."+r.progressBarClass),e.progressbar.attr(n,"0").attr(o,r.maxVal),d.trigger(s+".initialised",[e])},destroy:function(){var e=this,t=e.settings;e.progress.fadeOut(t.destroyFadeOutSpeed,function(){e.progress.remove()}),d.trigger(s+".destroy",[e])},update:function(e){var t=this,r=t.settings;t.value=e,t.valueText=r.textLabel.replace("{X}",e),t.valuePercent=100*e/r.maxVal,t.progressbar.attr(i,e).css("width",t.valuePercent+"%"),r.textLabel&&t.progressbar.attr(l,t.valueText),t.progress.attr(p,e).attr(u,t.valueText),d.trigger(s+".updated",[t]),t.value>=r.maxVal&&setTimeout(function(){t.destroy()},r.destroyDelay)},methodCaller:function(e,t){switch(e){case"update":this.update(t);break;case"destroy":this.destroy()}}}),a.fn[s]=function(t,r){return this.each(function(){var e=this;a.data(e,"plugin_"+s)||"object"!=typeof t&&void 0!==t?"string"==typeof t&&a.data(e,"plugin_"+s).methodCaller(t,r):a.data(e,"plugin_"+s,new g(e,t))})},a.fn[s].defaultSettings={progressClass:"progress",progressBarClass:"progress__bar",maxVal:100,textLabel:"{X} percent completed",destroyDelay:300,destroyFadeOutSpeed:300}});