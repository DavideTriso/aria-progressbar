!function(e){"function"==typeof define&&define.amd&&define(["jquery"],e)}(function(e,t){"use strict";function a(t,a){var n=this;n.settings=e.extend({},e.fn[r].defaultSettings,a),n.element=e(t),n.template=s,n.value=null,n.valuePercent=null,n.valueText=null,n.init()}var r="ariaProgressbar",s='<div class="{c1}"><div class="{c2}" role="progressbar"></div></div>',n={aVNow:"aria-valuenow",aVTxt:"aria-valuetext",aVMin:"aria-valuemin",aVMax:"aria-valuemax",dPg:"data-progress",dPgTxt:"data-progresstext",t:"true",f:"false"},i=e(t);e.extend(a.prototype,{init:function(){var e=this,t=e.element,a=e.settings;e.template=e.template.replace("{c1}",a.progressClass),e.template=e.template.replace("{c2}",a.progressBarClass),t.append(e.template),e.progress=t.find("."+a.progressClass.split(" ")[0]),e.progressbar=t.find("."+a.progressBarClass),e.progressbar.attr(n.aVMin,a.minVal).attr(n.aVMax,a.maxVal),a.progressBarId&&e.progressbar.attr("id",a.progressBarId),i.trigger(r+".initialised",[e])},destroy:function(){var e=this;e.progress.remove(),console.log("remove"),i.trigger(r+".destroy",[e])},update:function(e){var t=this,a=t.settings;t.value=e,t.valueText=t.settings.textLabel.replace("{X}",e),t.valuePercent=(a.maxVal-a.minVal)*e/100,console.log(t.valuePercent),t.progressbar.attr(n.aVNow,e).css("width",t.valuePercent+"%"),t.settings.textLabel&&t.progressbar.attr(n.aVTxt,t.valueText),t.progress.attr(n.dPg,e).attr(n.dPgTxt,t.valueText),i.trigger(r+".updated",[t])},methodCaller:function(e,t){var a=this;switch(e){case"update":a.update(t);break;case"destroy":a.destroy()}}}),e.fn[r]=function(t,s){return this.each(function(){var n=this;e.data(n,"plugin_"+r)||"object"!=typeof t&&void 0!==t?"string"==typeof t&&e.data(n,"plugin_"+r).methodCaller(t,s):e.data(n,"plugin_"+r,new a(n,t))})},e.fn[r].defaultSettings={progressClass:"progress",progressBarClass:"progress__bar",progressBarId:!1,minVal:0,maxVal:100,textLabel:"{X} percent completed"}}(jQuery,window));